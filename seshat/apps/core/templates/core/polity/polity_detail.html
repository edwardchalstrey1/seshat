{% extends "core/seshat-base.html" %}
{% load static %}
{% load humanize %}
{% load mathfilters %}
{% load custom_filters %}


{% block content %}
<style>
    br {
        display: block;
        margin: 10px 0; /* Adjust the value as per your requirement */
        content: "";
    }
    .custom-left-border-shadowed {
        border-left: none; /* Adjust the border color and thickness as desired */
        box-shadow: 0 0 4px teal; 
        padding-right: 10px;
        padding-top: 10px;
        margin-top: 5px;
        padding-bottom: 10px;
        border-radius: 15px;
        padding-left: 10px; /* Adjust the padding to create spacing between the border and content */
        text-align: justify;
    }

    .custom-top-border {
        border-top: 2px solid teal; /* Adjust the border color and thickness as desired */
        padding-top: 2px; /* Adjust the padding to create spacing between the border and content */
    }


    .custom-border-tight {
        border-left: 10px solid teal; /* Adjust the border color and thickness as desired */
        padding-left: 5px; /* Adjust the padding to create spacing between the border and content */
    }

    .highlighted-value {
        display: inline-block; 
        border: none; /* 1px solid #198754;*/ 
        padding: 5px; 
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(25, 135, 84, 0.5); 
        background-color:#fefae6;
        
    }

    .montserrat-font {
        font-family: 'Montserrat', sans-serif;
    }

    .oswald-font {
        font-family: 'Ubuntu', serif;
    }

    .light-narrow-hr {
        border: none;
        border-top: 1px solid #f0ecec;
        height: 0.25px;
        margin: 10px 0;
        width: 100%;
      }
</style>

<div class="container">
    <div class="row mt-3">
        <div class="col-md-12">
            <div class="row d-flex align-items-center mb-2">
                <div class="col-md-6">
                    <h1 class="fw-bold">{{ object.long_name }}</h1>
                </div>
                <div class="col-md-2">    
                    <a href="{% url 'polity-update' object.pk  %}" class="btn btn-outline-danger mx-1 my-2 float-end"><i class="fa-regular fa-pen-to-square"></i> &nbsp; Edit This Polity</a>
                </div>
                <div class="col-md-2">    
                    <a href="{% url 'polities' %}" class="btn btn-outline-success mx-1 my-2 float-end"><i class="fa-solid fa-list-ul"></i> &nbsp; See All Polities</a>
                </div>
                <div class="col-md-2">    
                    <a href='http://seshatdatabank.info/browser/{{ object.name }}' class="btn btn-outline-secondary mx-1 my-2 float-end" target="_blank"> <i class="fa-solid fa-arrow-up-right-from-square"></i> Wiki: {{ object.name }}</a>
                </div>

            </div>
            <div>
                <div class="col-md-12">
                    <h5 class="fw-bold pt-2 text-teal">New ID: 
                        <span class="text-secondary">
                            ({{ object.new_name }})
                        </span>
                    </h5>
                    <h5 class="fw-bold pt-2 text-secondary">Old ID:
                        <span class="text-secondary">
                            ({{ object.name }})
                        </span>
                    </h5>
                    <h5 class="fw-bold pt-2">Home NGA: 
                        <span class="text-secondary">
                            ({{ object.home_nga }})
                        </span>
                    </h5>
                </div>

            </div>

            <h6 class="text-secondary">* A polity is defined as an independent political unit. Kinds of polities range from villages (local
                communities) through simple and complex chiefdoms to states and empires.</h6>
            <h6 class="text-secondary">* A polity can be either centralized or not (e.g., organized as a confederation). For those periods when a region is divided up among a multitude of small-scale polities (e.g., independent villages or even many small chiefdoms) or when it is controlled in quick succession by a number of different regimes, we use the concept of 'quasi-polity'.</h6>
            <hr>
            <div class="col-md-9">
                <h3 class="fw-bold pb-2"> <i class="fa-solid fa-circle-right"></i> General Variables: &nbsp; <a href="#general_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="table-responsive mb-4 col-md-12">
                    <table id="table_id" class="table align-middle table-striped table-bordered">
                        <tbody>
                            <tr class="col-md-12">
                        {% for key, values in all_general_data.items %}
                        {% if values %}

                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{values.0.clean_name_spaced|slice:"7:"}}: &nbsp;
                                {% for vv in values %}
                                        {% if forloop.counter0 > 0 %}
                                        <span class="text-secondary">
                                            &
                                        </span>
                                        {% endif %}
                                        {% if  vv.show_value == 'present' %}

                                        <span class="h6 text-teal fw-bold">
                                            {{ vv.show_value }}
                                        </span> 
                                        {% elif vv.show_value == "absent" %}
                                        <span class="h6 text-danger fw-bold">
                                            {{ vv.show_value }}
                                        </span> 
                                        {% else %}
                                        <span class="h6 text-dark fw-bold">
                                            {{ vv.show_value }}
                                        </span> 

                                        {% endif %}

                                {% endfor %}
                                <a class="h6" href="#{{key}}"> &nbsp;<i class="fa-regular fa-message fa-sm"></i>
                                    </a>

                            {% else %}
                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{key}}: &nbsp; Not coded yet.

                            {% endif %}

                            </td>
                            {% if forloop.counter|divisibleby:2 and not forloop.last %}
                                </tr><tr class="col-md-12">
                            {% elif forloop.last %}
                                </tr>
                            {% endif %}

                        {% endfor %}

                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-9">
                <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> Social Complexity Variables: &nbsp; <a href="#sc_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="table-responsive mb-4 col-md-12">
                    <table id="table_id_sc" class="table align-middle table-striped table-bordered">
                        <tbody>
                            <tr class="col-md-12">
                        {% for key, values in all_sc_data.items %}
                        {% if values %}

                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{values.0.clean_name_spaced}}: &nbsp;
                                {% for vv in values %}
                                        {% if forloop.counter0 > 0 %}
                                    <span class="text-secondary">&</span>
                                        {% endif %}
                                        {% if  vv.show_value == 'present' %}

                                        <span class="h6 text-teal fw-bold">{{ vv.show_value }}</span> 
                                        {% elif vv.show_value == "absent" %}
                                        <span class="h6 text-danger fw-bold">{{ vv.show_value }}</span> 
                                        {% else %}
                                        <span class="h6 text-dark fw-bold">{{ vv.show_value }}</span> 

                                        {% endif %}

                                {% endfor %}
                                <a class="h6" href="#{{key}}"> &nbsp;<i class="fa-regular fa-message fa-sm"></i>
                                    </a>

                            {% else %}
                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{key}}: &nbsp; Not coded yet.

                            {% endif %}

                            </td>
                            {% if forloop.counter|divisibleby:2 and not forloop.last %}
                                </tr><tr class="col-md-12">
                            {% elif forloop.last %}
                                </tr>
                            {% endif %}

                        {% endfor %}

                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-md-9">
                <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> Warfare Variables (Military Technologies): &nbsp; <a href="#wf_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="table-responsive mb-4 col-md-12">
                    <table id="table_id_sc" class="table align-middle table-striped table-bordered">
                        <tbody>
                            <tr class="col-md-12">
                        {% for key, values in all_wf_data.items %}
                        {% if values %}

                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{values.0.clean_name_spaced}}: &nbsp;
                                {% for vv in values %}
                                        {% if forloop.counter0 > 0 %}
                                    <span class="text-secondary">&</span>
                                        {% endif %}
                                        {% if  vv.show_value == 'present' %}

                                        <span class="h6 text-teal fw-bold">{{ vv.show_value }}</span> 
                                        {% elif vv.show_value == "absent" %}
                                        <span class="h6 text-danger fw-bold">{{ vv.show_value }}</span> 
                                        {% else %}
                                        <span class="h6 text-dark fw-bold">{{ vv.show_value }}</span> 

                                        {% endif %}

                                {% endfor %}
                                <a class="h6" href="#{{key}}"> &nbsp;<i class="fa-regular fa-message fa-sm"></i>
                                    </a>

                            {% else %}
                            <td class="fw-bold text-secondary" style="text-align: left;">
                                <i class="fa-solid fa-circle fa-xs"></i>  &nbsp;{{key}}: &nbsp; Not coded yet.

                            {% endif %}

                            </td>
                            {% if forloop.counter|divisibleby:2 and not forloop.last %}
                                </tr><tr class="col-md-12">
                            {% elif forloop.last %}
                                </tr>
                            {% endif %}

                        {% endfor %}

                        </tbody>
                    </table>
                </div>
            </div>


            <div class="col-md-9">
                <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> Human Sacrifice Data: &nbsp; <a href="#hs_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="mb-4 col-md-12">
                            {% for key, values in all_data.items %}
                                {% if "Human_sacrifice_for_polity" == key %}
                                {% for value in values %}
                                
                                <span class="fs-6 fw-bold text-teal pt-2 pb-1 pe-2 ps-2 ms-2 me-2 mb-1 mt-1 highlighted-value">
                                    {% if  value.show_value == 'Absent' %}
                                    <span class="text-danger fw-bold">{{value.show_value}}</span> 
                                    {% else %}
                                    <span class="text-success fw-bold">{{value.show_value}}</span> 
                                    {% endif %}
                                    <span class="fs-5">
                                        {% include "core/partials/_year_block_value_inline.html" %}
                                    </span> 
                                </span>
                                {% endfor %}  
                                {% endif %}
                            {% endfor %}  

                </div>
            </div>


            <div class="col-md-9">
                <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> Crisis Consequences Data: &nbsp; <a href="#crisis_case_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="mb-4 col-md-12">

                    {% for key, values in all_crisis_cases_data.items %}
                    {% if values %}
                        <div class="py-2"  id="{{key}}">
                                {% for value in values %}
                                <span class="fs-5 text-teal pt-2 pb-1 pe-2 me-2 ms-2 mb-1 mt-1 highlighted-value">
                                    {% if value.is_first_100 == True %}
                                    <sup>
                                        <span class="badge bg-warning text-dark pb-1 pt-1 px-2" style="padding:3px;"><b> First 100</b> </span>
                                    </sup>
                                        {% endif %}
                                    {{value.name}} 
                                        
                                    <span class="fs-5">
                                        {% include "core/partials/_year_block_value_inline.html" %}
                                    </span> 
                                </span>
            
                                {% endfor %}                                        
                            </div>
                        {% endif %}
                        {% endfor %}

                </div>
            </div>


            <div class="col-md-9">
                <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> Power Transitions Data: &nbsp; <a href="#power_trans_var"><i class="fa-solid fa-magnifying-glass"></i></a></h3>
            </div>
            <div class="row px-3">
                <div class="mb-4 col-md-12">
                    {% for key, values in all_power_transitions_data.items %}
                    {% if values %}
                        <div class="py-2"  id="{{key}}">
                                {% for value in values %}
                                <span class="fs-5 text-teal pt-2 pb-0 pe-2 me-2 ms-2 mb-2 mt-1 highlighted-value">
                                    <span>
                                        <i class="fa-solid fa-bolt fa-sm"></i>
                                        <span class = "text-danger">{{ value.predecessor }}</span> <span class="text-dark fw-light"> <i class="fa-solid fa-arrow-right-long fa-sm"></i> </span> 
                                        <span class = "text-teal">{{ value.successor }}</span>.
                                    </span>
                                    <span class="fs-5">
                                        {% include "core/partials/_year_block_value_inline.html" %}
                                    </span> 
                                </span>
                                {% endfor %}
                            </div>
                        {% endif %}
                        {% endfor %}

                </div>
            </div>

        </div>
        <div class="table-responsive mb-4">
            <h3 class="fw-bold pb-2 pt-3"> <i class="fa-solid fa-circle-right"></i> NGA Settlements:</h3>

            <table class="table table-striped table-bordered">
            <tbody>
                {% for concise_rel in nga_pol_rel.items %}
                <tr>
                    {% include "core/partials/_year_block_nga.html" %}

                    <td class="text-success fw-bold fs-5">
                        <i class="fa-solid fa-earth-americas fa-xs"></i> &nbsp;
                        {% for nga in concise_rel.1 %}
                        {% if not forloop.last %}
                        {% if nga.name == object.home_nga.name %}
                        <u>{{ nga.name }} </u>
                        <sup>
                            <i class="fa-solid fa-house fa-sm text-teal"></i>
                        </sup>
                        {% else %}
                        {{ nga.name }} 
                        {% endif %}
                        &nbsp; &nbsp; <i class="fa-solid fa-earth-americas fa-xs"></i> &nbsp; &nbsp;                         
                        {% else %}
                    
                        {% if nga.name == object.home_nga.name %}
                        <u>{{ nga.name }} </u>
                        <sup>
                            <i class="fa-solid fa-house fa-sm text-teal"></i>
                        </sup>
                        {% else %}
                        {{ nga.name }} 
                        {% endif %}
                        {% endif %}

                        {% endfor %}

                    </td>
                </tr>
                {% endfor %}
            </tbody>
            </table>
            <h5 class="fw-bold pt-2 ms-2 text-teal"> <i class="fa-solid fa-house fa-sm"></i> Home NGA: <span class="text-secondary">({{ object.home_nga }})</span></h5>
        </div>
    </div>
    <hr>

    <div>
        <h1 class="pt-2 display-4" style="text-align: left; color:#893101;" id="general_var"><span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> General Variables</span></h1>
        
        {% for key, values in all_general_data.items %}
        {% if values %}
        <div class="py-2 custom-left-border-shadowed">
            <div class="row d-flex">
                <div class="col-md-6">
                    <span class="pt-1 fs-5 pb-1 fw-bold" id="{{key}}"> <i class="fa-solid fa-star fa-2xs"></i> {{ values.0.clean_name_spaced|slice:"7:" }}:            </span> 

                </div>
                <div class="col-md-6">
                    <a href="{% url key|lower|add:'s' %}" class="btn float-end fw-light">View <b>all</b> {{ values.0.clean_name_spaced|slice:"7:"|add:'s' }} <i class="fa-solid fa-list"></i></a>
                </div>
            </div>
                {% for value in values %}
                <span class="fs-4 fw-bold text-teal pt-2 pb-1 pe-2 ps-2 ms-2 me-2 mb-1 mt-1 highlighted-value">
                    {{value.show_value}} 
                    {% include "core/partials/_year_block_value_inline.html" %}
                    <div style="display: block; padding: 0;">
                        <div style="display: inline-flex; flex-direction: row;">
                            {% include "core/partials/_tag_value_inline.html" %}
                            {% include "core/partials/_disputed_value_inline.html" %}
                            {% include "core/partials/_expert_checked_value_inline.html" %}

                            <a class="p-0 m-0 fs-6" type="button" href="{% url key|lower|add:'-update' value.id %}">
                                <span class="badge rounded-pill bg-danger"> <i class=" fa-solid fa-pen-to-square text-white"></i></span>
                            </a>                  
                        </div>
                    </div>
                </span>
                {% endfor %}
            <br>
                    {% autoescape off %}   
                        {% if values.0.description %}
                        <p class="fs-6">
                            <i class="fa-solid fa-layer-group fa-xs text-teal"></i>   
                            {{values.0.description|make_references_look_nicer}}
                        </p>  
                        {% endif %}
                    {% endautoescape %}
        </div>
        {% endif %}
        {% endfor %}
    </div>

    <div>
        <h1 class="pt-2 display-4" style="text-align: left; color:#893101;" id="sc_var"><span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> Social Complexity Variables</span></h1>
        {% for key, values in all_sc_data.items %}
        {% if values %}
        <div class="py-2 custom-left-border-shadowed">
            <div class="row d-flex">
                <div class="col-md-6">
                    <span class="pt-1 fs-5 pb-1 fw-bold" id="{{key}}"> 
                        <i class="fa-solid fa-star fa-2xs"></i>
                        {{ values.0.clean_name_spaced }}:            
                    </span> 
                </div>
                <div class="col-md-6">
                    <a href="{% url key|lower|add:'s' %}" class="btn float-end fw-light">View <b>all</b> {{ values.0.clean_name_spaced|add:'s' }} <i class="fa-solid fa-list"></i></a>
                </div>
            </div>
                {% for value in values %}
                <span class="fs-4 fw-bold text-teal pt-2 pb-1 pe-2 ps-2 ms-2 me-2 mb-1 mt-1 highlighted-value">{{value.show_value}} 
                    {% include "core/partials/_year_block_value_inline.html" %}
                    <div style="display: block; padding: 0;">
                        <div style="display: inline-flex; flex-direction: row;">
                            {% include "core/partials/_tag_value_inline.html" %}
                            {% include "core/partials/_disputed_value_inline.html" %}
                            {% include "core/partials/_expert_checked_value_inline.html" %}

                            <a class="p-0 m-0 fs-6" type="button" href="{% url key|lower|add:'-update' value.id %}">
                                <span class="badge rounded-pill bg-danger"> <i class=" fa-solid fa-pen-to-square text-white"></i></span>
                            </a>                  
                        </div>
                    </div>
                </span>
                {% endfor %}
            </span>
            <br>
            {% autoescape off %}   
                {% if values.0.description %}
                <p class="fs-6">
                    <i class="fa-solid fa-layer-group fa-xs text-teal"></i>   
                    {{values.0.description|make_references_look_nicer}}
                </p>     
                {% endif %}
            {% endautoescape %}    
        </div>
        {% endif %}
        {% endfor %}
    </div>

    <div>
        <h1 class="pt-2 display-4" style="text-align: left; color:#893101;" id="wf_var"><span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> Warfare Variables (Military Technologies)</span></h1>

        {% for key, values in all_wf_data.items %}
        {% if values %}
            <div class="py-2 custom-left-border-shadowed">
                <div class="row d-flex">
                    <div class="col-md-6">
                        <span class="pt-1 fs-5 pb-1 fw-bold" id="{{key}}"> 
                            <i class="fa-solid fa-star fa-2xs"></i>
                            {{ values.0.clean_name_spaced }}:            
                        </span> 
                    </div>
                    <div class="col-md-6">
                        <a href="{% url key|lower|add:'s' %}" class="btn float-end fw-light">View <b>all</b> {{ values.0.clean_name_spaced|add:'s' }} <i class="fa-solid fa-list"></i></a>
                    </div>
                </div>
                    {% for value in values %}
                    <span class="fs-4 fw-bold text-teal pt-2 pb-1 pe-2 ps-2 ms-2 me-2 mb-1 mt-1 highlighted-value">{{value.show_value}} 
                        {% include "core/partials/_year_block_value_inline.html" %}
                        <div style="display: block; padding: 0;">
                            <div style="display: inline-flex; flex-direction: row;">
                                {% include "core/partials/_tag_value_inline.html" %}
                                {% include "core/partials/_disputed_value_inline.html" %}
                                {% include "core/partials/_expert_checked_value_inline.html" %}
                                <a class="p-0 m-0 fs-6" type="button" href="{% url key|lower|add:'-update' value.id %}">
                                    <span class="badge rounded-pill bg-danger"> <i class=" fa-solid fa-pen-to-square text-white"></i></span>
                                </a>                  
                            </div>
                        </div>
                    </span>
                    {% endfor %}
                <br>
                {% autoescape off %}   
                    {% if values.0.description %}
                    <p class="fs-6">
                        <i class="fa-solid fa-layer-group fa-xs text-teal"></i>   
                        {{values.0.description|make_references_look_nicer}}
                    </p>    
                    {% endif %}
                {% endautoescape %}      
                </div>
            {% endif %}
            {% endfor %}
    </div>

    {% for key, values in all_data.items %}
    {% if "Human_sacrifice_for_polity" == key %}

    <h1 class="pt-2 display-4" style="text-align: left;  color:#893101;" id="hs_var"><span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> Human Sacrifice Data</span></h1>
    <h6>
        <span> <i class="fa-solid fa-caret-right"></i> Human Sacrifice is the deliberate and ritualized killing of a person to please or placate supernatural entities (including gods, spirits, and ancestors) or gain other supernatural benefits. </span>
    </h6>
    <div class="py-2 custom-left-border-shadowed">
        <div class="row d-flex">
            <div class="col-md-6">
                <span class="pt-1 fs-5 pb-1 fw-bold" id="{{key}}"> 
                    <i class="fa-solid fa-star fa-2xs"></i>
                    Human Sacrifice:            
                </span> 
            </div>
            <div class="col-md-6">
                <a href="{% url 'human_sacrifices_all' %}" class="btn float-end fw-light">View <b>all</b> Human Sacrifices <i class="fa-solid fa-list"></i></a>
            </div>
        </div>
                {% for value in values %}
                <span class="fs-4 fw-bold text-teal pt-2 pb-1 pe-2 ps-2 ms-2 me-2 mb-1 mt-1 highlighted-value">{{value.show_value}} 
                    {% include "core/partials/_year_block_value_inline.html" %}
                    <div style="display: block; padding: 0;">
                        <div style="display: inline-flex; flex-direction: row;">
                            {% include "core/partials/_tag_value_inline.html" %}
                            {% include "core/partials/_disputed_value_inline.html" %}
                            {% include "core/partials/_expert_checked_value_inline.html" %}
                            {% include "core/partials/_drb_checked_value_inline.html" %}

                            <a class="p-0 m-0 fs-6" type="button" href="{% url 'human_sacrifice-update' value.id %}">
                                <span class="badge rounded-pill bg-danger"> <i class=" fa-solid fa-pen-to-square text-white"></i></span>
                            </a>     
                            <a class="p-0 m-0 fs-6" href="{% url 'seshatcomment-update' value.comment.id %}"><span class="badge rounded-pill bg-secondary"> <i class=" fa-solid fa-pen-to-square text-white"></i> Description</span></a>             
                        </div>
                    </div>
                </span>
                <br>
                    {% autoescape off %}
                    <p class="fs-6">
                        <i class="fa-solid fa-layer-group fa-xs text-teal"></i>   
                        {{value.comment}} 
                    </p>  
                    {% endautoescape %}
            {% if not forloop.last %}
            <hr class="light-narrow-hr">
            {% endif %}

            {% endfor %}     
            </div>
            {% endif %}

    {% endfor %}

    <div>
        <h1 class="pt-2 display-4" style="text-align: left; color:#893101;" id="crisis_case_var"><span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> Crisis Cases</span></h1>

        {% for key, values in all_crisis_cases_data.items %}
        {% if values %}
            <div class="py-2"  id="{{key}}">
                    {% for value in values %}
                    <span class="pt-4 fs-4 pb-2 text-teal"> 
                        <i class="fa-solid fa-circle-chevron-right fa-sm"></i>
                        {{ value.crisis_case_id }} 
                        <sup> 
                            {% if value.is_first_100 == True %}
                            <span class="badge bg-warning text-dark fw-light" style="padding:3px;">
                                First 100
                            </span>
                            {% endif %}
                        </sup> 
                    </span>
                    <br>
                    <span class="fs-3 fw-bold text-teal pt-2 pb-0 pe-2 me-3 ms-4 mb-3 mt-3 highlighted-value">{{value.name}} 
                        {% include "core/partials/_year_block_value_inline.html" %}
                        {% include "core/partials/_tag_value_inline.html" %}
                        {% include "core/partials/_disputed_value_inline.html" %}
                        {% include "core/partials/_expert_checked_value_inline.html" %}
    
                        <sup style="top: -0.75em;">
                            <span class="fs-6 text-danger">
                                <a href="{% url 'crisis_consequence-update' value.id %}"><i class="fa-solid fa-pen-to-square text-danger"></i></a>
                            </span>
                        </sup>
                    </span>
                    {% include "core/partials/_crisis_cases_inline.html" %}

                    {% endfor %}                            
                </div>
            {% endif %}
            {% endfor %}
    
    </div>
<hr class="text-color:#893101;">
    <div>
        <h1 class="pt-2 display-4" style="text-align: left; color:#893101" id="power_trans_var">
            <span class="h1"><i class="fa-solid fa-circle-arrow-down fa-sm"></i> Power Transitions</span>
        </h1>
    
        {% for key, values in all_power_transitions_data.items %}
        {% if values %}
            <div class="py-2"  id="{{key}}">
                    {% for value in values %}
                    <span class="pt-4 fs-4 pb-2 text-teal">
                         <i class="fa-solid fa-circle-chevron-right fa-sm"></i>
                    <span class="fs-3 fw-bold text-teal pt-2 pb-0 pe-2 me-3 ms-4 mb-3 mt-3 highlighted-value">
                        <span>
                            <span class = "fw-bold text-danger">{{ value.predecessor }}

                            </span> 
                            <span class="text-dark">
                                <i class="fa-solid fa-arrow-right-long fa-sm"></i> 
                            </span> 
                            <span class = "fw-bold text-teal">
                                {{ value.successor }}
                            </span>.
                        </span>
                        {% include "core/partials/_year_block_value_inline.html" %}
                        {% include "core/partials/_tag_value_inline.html" %}
                        {% include "core/partials/_disputed_value_inline.html" %}
                        {% include "core/partials/_expert_checked_value_inline.html" %}
    
                        <sup style="top: -0.75em;">
                            <span class="fs-6 text-danger">
                                <a href="{% url 'power_transition-update' value.id %}"><i class="fa-solid fa-pen-to-square text-danger"></i></a>
                            </span>
                        </sup>
                    </span>
                    {% include "core/partials/_power_transitions_inline.html" %}

                    {% endfor %}                            
                </div>
            {% endif %}
            {% endfor %}
    
    </div>


</div>





<script>
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
      return new bootstrap.Popover(popoverTriggerEl)
    })
</script>

{% endblock content%}
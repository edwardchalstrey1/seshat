{% load humanize %}
{% load mathfilters %}
<td style="text-align: center" >
{% if value.year_from == None %}
<span class="fw-light text-secondary">Year Range of polity assumed.            </span><br>
            <span class="fw-bold text-secondary">
            {% if  object.start_year == object.end_year %}
                {% if  object.start_year < 0 %}
                {{ object.start_year|abs }} <span class="text-secondary">BCE</span> 
                {% else %}
                {{ object.start_year }} <span class="text-secondary">CE</span>
                {% endif %}
            {% elif object.end_year == None %}
                {% if  object.start_year < 0 %}
                {{ object.start_year|abs }} <span class="text-secondary">BCE</span>
                {% else %}
                {{ object.start_year }} <span class="text-secondary">CE</span>
                {% endif %}
            {% elif object.end_year == None and  object.start_year == None %}
                <i class="fa-solid fa-minus"></i> 
            {% else %}
                {% if  object.start_year < 0 and object.end_year < 0 %}
                {{ object.start_year|abs }} <span class="text-secondary">BCE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ object.end_year|abs }} <span class="text-secondary">BCE</span>
                {% elif  object.start_year < 0 and object.end_year >= 0 %}
                {{ object.start_year|abs }} <span class="text-secondary">BCE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ object.end_year }} <span class="text-secondary">CE</span>
                {% else %}
                {{ object.start_year }} <span class="text-secondary">CE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ object.end_year }} <span class="text-secondary">CE</span>
                {% endif %}
            {% endif %}
            </span>
{% elif  value.year_from == value.year_to %}
    {% if  value.year_from < 0 %}
    {{ value.year_from|abs }} <span class="text-secondary">BCE</span> 
    {% else %}
    {{ value.year_from }} <span class="text-secondary">CE</span>
    {% endif %}
{% elif value.year_to == None %}
    {% if  value.year_from < 0 %}
    {{ value.year_from|abs }} <span class="text-secondary">BCE</span>
    {% else %}
    {{ value.year_from }} <span class="text-secondary">CE</span>
    {% endif %}
{% elif value.year_to == None and  value.year_from == None %}
    <i class="fa-solid fa-minus"></i> 
{% else %}
    {% if  value.year_from < 0 and value.year_to < 0 %}
    {{ value.year_from|abs }} <span class="text-secondary">BCE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ value.year_to|abs }} <span class="text-secondary">BCE</span>
    {% elif  value.year_from < 0 and value.year_to >= 0 %}
    {{ value.year_from|abs }} <span class="text-secondary">BCE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ value.year_to }} <span class="text-secondary">CE</span>
    {% else %}
    {{ value.year_from }} <span class="text-secondary">CE</span> <i class="fas fa-long-arrow-alt-right"></i> {{ value.year_to }} <span class="text-secondary">CE</span>
    {% endif %}
{% endif %}
    
</td>
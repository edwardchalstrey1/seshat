{% extends "core/seshat-base.html" %}
{% load leaflet_tags %}

{% block content %}
{% leaflet_map "spatial_map" callback="window.map_init_basic" %}
{% endblock %}

{% block javascript %}
{{ block.super }}
<script>
    function map_init_basic(map, options) {

        var map = L.map('map').setView([0, 0], 2);  // Centered at [0, 0] and zoomed out

        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png').addTo(map);

        {% for shape in shapes %}
            L.geoJSON({{ shape.geom.geojson | safe }}).addTo(map);
        {% endfor %}
    }
</script>
{% endblock %}
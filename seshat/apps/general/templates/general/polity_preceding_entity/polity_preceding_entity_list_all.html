{% extends "core/list_base_all_general_preceding.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% load humanize %}

{% block download_button %}
    <a href="{% url 'polity_preceding_entity-create' %}" class="btn btn-outline-success mx-3 my-4 float-end"><i class="fas fa-plus"></i> &nbsp; Add More Facts</a>
    <a href="{% url 'polity_preceding_entity-download' %}" class="btn btn-outline-primary mx-3 my-4 float-end"><i class="fas fa-download"></i> &nbsp; Download All</a>
    <a href="{% url 'polity_preceding_entitys' %}" class="btn btn-warning mx-3 my-4 float-end"><i class="fa-solid fa-file-lines"></i> &nbsp; See Pagination Mode</a>
{% endblock download_button %}

{% block metadownload_button %}
    <a href="{% url 'polity_preceding_entity-metadownload' %}" class="btn btn-primary ms-auto py-2 my-2 float-end"><i class="fas fa-download"></i> &nbsp; Download MetaData</a>
{% endblock metadownload_button %}

{% block main_description %}

{% endblock main_description %}

{% block myheadings_list %}
<th class = "fw-bold" style="text-align: left;" scope="col"><span>
    <a href="{% url 'polity_preceding_entitys_all' %}?orderby=other_polity&orderby2=tag"><i class="fa-solid fa-caret-down"></i></a>
</span>Entity A (Prior)
</th>
<th class = "fw-bold" style="text-align: left;" scope="col">
    Relationship
</th>
<th scope="col" style="text-align: left" class="fw-bold">
    <span>
        <a href="{% url 'polity_preceding_entitys_all' %}?orderby=polity&orderby2=tag"><i class="fa-solid fa-caret-down"></i></a>
    </span>
    Entity B (Subsequent)</th>
{% endblock myheadings_list %}

{% block extra_vars_list %}

<td style="text-align: left;">
    {% if obj.other_polity %}
    <span class="fw-bold">
        <a href="{% url 'polity-detail-main' obj.other_polity.id %}">{{ obj.other_polity }}</a>
    </span>
    {% else %}
    <span class="fw-bold">
        <span >{{ obj.merged_old_data }}</span>
    </span>
    {% endif %}
</td>
<td style="text-align: left;">
{{ obj.relationship_to_preceding_entity }}
</td>
<td style="text-align: left;">
    {% if obj.polity %}
    <span class="fw-bold">
        <a href="{% url 'polity-detail-main' obj.polity.id %}">{{ obj.polity }}</a>
    </span>
    {% else %}
    <span class="fw-bold">
        <span >{{ obj.merged_old_data }}</span>
    </span>
    {% endif %}

</td>
{% endblock extra_vars_list %}

<!-- Update Button -->
{% block update_button %}
    <td style="text-align: center;">
        <small>
            <a href="{% url 'polity_preceding_entity-update' obj.id %}">Edit</a>
        </small>
    </td>
{% endblock update_button %}
        